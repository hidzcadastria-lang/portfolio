import{j as e,C as g,u as f,F,I as h,M as p,T as b,S as B,a as C,P as x,b as A}from"./chunk-r3f-DoUU-Zwb.js";import{b as c,f as y}from"./chunk-router-CyBvkWQI.js";function v(){const[t,i]=c.useState("B"),[n,r]=c.useState(!1);return c.useEffect(()=>{const s=window.matchMedia("(prefers-reduced-motion: reduce)"),a=()=>{const o=window.innerWidth,u=navigator.hardwareConcurrency||4,d=navigator.deviceMemory||4,l=s.matches;r(l),l||o<640||u<=4||d<=4?i("C"):o<1024?i("B"):i("A")};return a(),s.addEventListener("change",a),window.addEventListener("resize",a),()=>{s.removeEventListener("change",a),window.removeEventListener("resize",a)}},[]),{tier:t,reducedMotion:n}}function m(t){return t==="/"?{intensity:1.05,bg:"#08070F",fog:"#08070F",lightA:"#34E1FF",lightB:"#F472B6",orbA:"#5B8CFF",orbB:"#9D7BFF",orbC:"#34E1FF",particle:"#C084FC",ringScale:1.15,offset:[.35,.15,0]}:t.startsWith("/services")||t.startsWith("/approach")?{intensity:.9,bg:"#07101A",fog:"#07101A",lightA:"#34E1FF",lightB:"#5B8CFF",orbA:"#34E1FF",orbB:"#5B8CFF",orbC:"#9D7BFF",particle:"#67E8F9",ringScale:.95,offset:[.2,.05,0]}:t.startsWith("/case-studies")||t.startsWith("/insights")?{intensity:1,bg:"#100A14",fog:"#100A14",lightA:"#F472B6",lightB:"#9D7BFF",orbA:"#F472B6",orbB:"#9D7BFF",orbC:"#34E1FF",particle:"#F9A8D4",ringScale:1.25,offset:[.45,-.1,0]}:t.startsWith("/trust")||t.startsWith("/contact")?{intensity:.72,bg:"#0A1216",fog:"#0A1216",lightA:"#34E1FF",lightB:"#22C55E",orbA:"#34E1FF",orbB:"#22C55E",orbC:"#5B8CFF",particle:"#86EFAC",ringScale:.86,offset:[.1,-.15,0]}:{intensity:.84,bg:"#090C14",fog:"#090C14",lightA:"#5B8CFF",lightB:"#9D7BFF",orbA:"#5B8CFF",orbB:"#9D7BFF",orbC:"#34E1FF",particle:"#A5B4FC",ringScale:1,offset:[.25,0,0]}}function j({theme:t,reduced:i}){const n=c.useRef(null),r=c.useRef(null),s=c.useRef(null);return f(a=>{if(i)return;const o=a.clock.elapsedTime;n.current&&(n.current.rotation.x=o*.18*t.intensity,n.current.rotation.y=o*.14),r.current&&(r.current.position.x=t.offset[0]+Math.sin(o*.5)*.9,r.current.position.y=t.offset[1]+Math.cos(o*.4)*.5,r.current.rotation.z=o*.12),s.current&&(s.current.position.y=1.1+Math.sin(o*.3)*.65,s.current.rotation.y=o*.22)}),e.jsxs(e.Fragment,{children:[e.jsx(F,{speed:i?0:1.2,rotationIntensity:.33*t.intensity,floatIntensity:.7,children:e.jsx(h,{ref:n,args:[1.1,3],position:[-1.2,0,0],children:e.jsx(p,{color:t.orbA,emissive:t.lightA,emissiveIntensity:.46,roughness:.18,metalness:.74,distort:i?0:.28,speed:1.4})})}),e.jsx(b,{ref:r,args:[1.7*t.ringScale,.08,24,100],position:[1.8,-.5,-.8],children:e.jsx("meshStandardMaterial",{color:t.orbB,metalness:.72,roughness:.2,emissive:t.orbB,emissiveIntensity:.24})}),e.jsx(B,{ref:s,args:[.55,38,38],position:[.8,1.3,-1.1],children:e.jsx("meshStandardMaterial",{color:t.orbC,emissive:t.orbC,emissiveIntensity:.32,metalness:.54,roughness:.25})})]})}function E({count:t,color:i}){const n=c.useMemo(()=>new Float32Array(Array.from({length:t*3},()=>C.randFloatSpread(18))),[t]);return e.jsx(x,{positions:n,stride:3,frustumCulled:!0,children:e.jsx(A,{transparent:!0,color:i,size:.025,sizeAttenuation:!0,depthWrite:!1})})}function w(){const{tier:t,reducedMotion:i}=v(),{pathname:n}=y(),r=m(n),s=t==="A"?1e3:t==="B"?520:0;return t==="C"?e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none fixed inset-0 -z-10 bg-[radial-gradient(circle_at_16%_18%,rgba(91,140,255,0.22),transparent_40%),radial-gradient(circle_at_84%_18%,rgba(244,114,182,0.14),transparent_36%),radial-gradient(circle_at_50%_86%,rgba(52,225,255,0.15),transparent_34%),#090B13]"}):e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none fixed inset-0 -z-10",children:e.jsxs(g,{camera:{position:[0,0,5.5],fov:52},dpr:[1,t==="A"?2:1.5],gl:{antialias:!1,powerPreference:"high-performance"},children:[e.jsx("color",{attach:"background",args:[r.bg]}),e.jsx("fog",{attach:"fog",args:[r.fog,6,13]}),e.jsx("ambientLight",{intensity:.48}),e.jsx("pointLight",{position:[4,4,4],intensity:11,color:r.lightA}),e.jsx("pointLight",{position:[-4,-2,-2],intensity:8,color:r.lightB}),e.jsx(j,{theme:r,reduced:i}),!i&&s>0&&e.jsx(E,{count:s,color:r.particle})]})})}export{w as SharedCanvasShell};
